/**
 * Module for managing curriculum tree interactions.
 *
 * @module     local_curriculum/tree
 * @copyright  2026 David Herney @ BambuCo
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_curriculum/tree",["jquery"],function($){const CLASS_COLLAPSED="curriculum-tree-collapsed";return{init:function(){this.attachEventHandlers()},attachEventHandlers:function(){$(document).on("click",".curriculum-tree-toggle",this.handleToggleClick.bind(this)),$(document).on("click",".curriculum-tree-expand-all",this.handleExpandAll.bind(this)),$(document).on("click",".curriculum-tree-collapse-all",this.handleCollapseAll.bind(this))},handleToggleClick:function(e){e.preventDefault();const $button=$(e.currentTarget),$node=$button.closest(".curriculum-tree-node"),$children=$node.children(".curriculum-tree-children");if(0===$children.length)return;const newState=!("true"===$button.attr("aria-expanded"));$button.attr("aria-expanded",newState.toString()),newState?($node.removeClass(CLASS_COLLAPSED),$children.slideDown(200)):($node.addClass(CLASS_COLLAPSED),$children.slideUp(200))},handleExpandAll:function(e){e.preventDefault();$(e.currentTarget).closest(".curriculum-tree").find(".curriculum-tree-toggle").each((index,toggle)=>{const $toggle=$(toggle),$node=$toggle.closest(".curriculum-tree-node"),$children=$node.children(".curriculum-tree-children");$children.length>0&&($toggle.attr("aria-expanded","true"),$node.removeClass(CLASS_COLLAPSED),$children.slideDown(200))})},handleCollapseAll:function(e){e.preventDefault();$(e.currentTarget).closest(".curriculum-tree").find(".curriculum-tree-toggle").each((index,toggle)=>{const $toggle=$(toggle),$node=$toggle.closest(".curriculum-tree-node"),$children=$node.children(".curriculum-tree-children");$children.length>0&&($toggle.attr("aria-expanded","false"),$node.addClass(CLASS_COLLAPSED),$children.slideUp(200))})}}});

//# sourceMappingURL=tree.min.js.map